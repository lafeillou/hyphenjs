<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>hyphen.js</title>
</head>

<body>
    <p class="text text-js">
        Focused development of the sixth edition started in 2009, as the fifth edition was being prepared for publication. However,
        this was preceded by significant experimentation and language enhancement design efforts dating to the publication
        of the third edition in 1999. In a very real sense, the completion of the sixth edition is the culmination of a fifteen
        year effort. The goals for this addition included providing better support for large applications, library creation,
        and for use of ECMAScript as a compilation target for other languages. Some of its major enhancements included modules,
        class declarations, lexical block scoping, iterators and generators, promises for asynchronous programming, destructuring
        patterns, and proper tail calls. The ECMAScript library of built-ins was expanded to support additional data abstractions
        including maps, sets, and arrays of binary numeric values as well as additional support for Unicode supplemental
        characters in strings and regular expressions. The built-ins were also made extensible via subclassing. The sixth
        edition provides the foundation for regular, incremental
        <span class="w-highlight">language</span> and library enhancements. The sixth edition was adopted by the General Assembly of June 2015.
    </p>

    <p class="text-origin">
        Focused development of the sixth edition started in 2009, as the fifth edition was being prepared for publication. However,
        this was preceded by significant experimentation and language enhancement design efforts dating to the publication
        of the third edition in 1999. In a very real sense, the completion of the sixth edition is the culmination of a fifteen
        year effort. The goals for this addition included providing better support for large applications, library creation,
        and for use of ECMAScript as a compilation target for other languages. Some of its major enhancements included modules,
        class declarations, lexical block scoping, iterators and generators, promises for asynchronous programming, destructuring
        patterns, and proper tail calls. The ECMAScript library of built-ins was expanded to support additional data abstractions
        including maps, sets, and arrays of binary numeric values as well as additional support for Unicode supplemental
        characters in strings and regular expressions. The built-ins were also made extensible via subclassing. The sixth
        edition provides the foundation for regular, incremental
        <span class="w-highlight">language</span> and library enhancements. The sixth edition was adopted by the General Assembly of June 2015.
    </p>

    <h6 class="text-js">
        Focused development of the sixth edition started in 2009, as the fifth edition was being prepared for publication. However,
        this was preceded by significant experimentation...
    </h6>

    <p id="text" class="text text-animate">
        Focused development of the sixth edition started in 2009, as the fifth edition was being prepared for publication. However,
        this was preceded by significant experimentation and language enhancement design efforts dating to the publication
        of the third edition in 1999. In a very real sense, the completion of the sixth edition is the culmination of a fifteen
        year effort. The goals for this addition included providing better support for large applications, library creation,
        and for use of ECMAScript as a compilation target for other languages. Some of its major enhancements included modules,
        class declarations, lexical block scoping, iterators and generators, promises for asynchronous programming, destructuring
        patterns, and proper tail calls. The ECMAScript library of built-ins was expanded to support additional data abstractions
        including maps, sets, and arrays of binary numeric values as well as additional support for Unicode supplemental
        characters in strings and regular expressions. The built-ins were also made extensible via subclassing. The sixth
        edition provides the foundation for regular, incremental language and library enhancements. The sixth edition was
        adopted by the General Assembly of June 2015.
    </p>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body {
            position: relative;
        }

        p,
        h6 {
            width: 600px;
            font-size: 14px;
            font-family: 'Microsoft Yahei';
            /*font-style: italic;*/
            border: 1px solid silver;
            box-shadow: 2px 2px 4px #eee;
            padding: .4em;
            margin: 1em;
        }

        .w-highlight {
            display: inline-block;
            background-color: yellow;
        }

        .text-animate {
            background-color: #f2f2f6;
        }

        .text-js {}

        .text-break {
            word-break: break-all;
        }

        .text-origin {
            border: 1px dashed red;
        }
    </style>
    <script type="text/javascript" src="./hyphen.js"></script>
    <script type="text/javascript">
        var INTERVAL = 3000;
        var selector = '#text';
        var textAnimate = document.querySelector(selector);
        hyphen('.text', true);
        hyphen('h6', true);

        setTimeout(function () {
            hyphen('.text', true);
            hyphen('h6', true);
            console.log('repeat hyphen!');
        }, 600);

        var text = 'This is a dynamic text. The first time the callback is called, accumulator and currentValue can be one of two values. If initialValue is provided in the call to reduce, then accumulator will be equal to initialValue, and currentValue will be equal to the first value in the array. If no initialValue is provided, then accumulator will be equal to the first value in the array, and currentValue will be equal to the second.';
        var widthArray = [200, 300, 400, 500, 600, 700];
        var i = 0;
        setInterval(function changeWidth() {
            textAnimate.innerText = '#' + Math.random() + '# ' + text;

            if (i > widthArray.length - 1) i = 0;

            textAnimate.setAttribute('style', 'width: ' + widthArray[i++] + 'px');

            hyphen(selector, true);
        }, INTERVAL)
    </script>
</body>

</html>