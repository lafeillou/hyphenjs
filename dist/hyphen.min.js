/*! Develop by 1kg */
!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,n){"use strict";!function(e){function t(e){if(!(this instanceof t))return new t(e);var e=e||{},r={selector:"p",deep:!0,prefix:"hyphen",markSymbol:"\"':;,.?()[]{}<>~!@#$%^&*-+=/\\|1234567890"};"string"==typeof e?(r.selector=e,this.$conf=r):this.$conf=n.extend(r,e),this.init()}var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},getUniqueId:function(e,t){return e+"_"+t.split("").map(function(e){return e.charCodeAt()}).join("")},warn:function(e){console.warn(e)}};t.__memory__={},t.prototype={constructor:t,init:function(){var e=this.$conf,r=this,i=document.querySelectorAll(e.selector);if(this.$id=n.getUniqueId(e.prefix,e.selector),t.__memory__[this.$id])n.warn('hyphen warning: selector "'+e.selector+'" hyphen again.'),i=t.__memory__[this.$id];else{for(var o=[],c=0;c<i.length;c++)o.push(i[c].cloneNode());t.__memory__[this.$id]=o}this.$cached=Object.create(null),this.$markset=e.markSymbol.split("").map(function(e){return e.charCodeAt()}).concat([32]),i.forEach(function(e,t){r.storeCached(e,t),r.wrapText(e)})},wrapText:function(e){e.style.whiteSpace="nowrap";for(var t=e.innerText,n=t.split(""),r=t.split(" ").map(function(e){return e.length}),i=n.concat(this.$conf.markSymbol.split("")),o=this.calcStyle(e),c=this.getAllCharRectData(e,i),a=[],h=0,s=0,u=n.length;h<u;h++)if(!this.optimizeWrap(n,h)){var l=this.getTwoCharDistance(n,c,s,h+1);l>o.width&&(s=h,a.push({br:s,hyphen:this.isNeedHyphen(r,n,h-1),char:n[s]}))}a.unshift({br:0}),a.push({br:u});for(var d=[],p=1,u=a.length;p<u;p++){var f=n.slice(a[p-1].br,a[p].br),g="";p===u-1?g=this.renderLineString(f.join("")):(a[p].hyphen&&f.push("-"),g=this.renderLineString(f.join(""),this.getLineLetterSpacing(c,f,o.width))),d.push(g)}e.innerHTML=d.join("")},isNeedHyphen:function(e,t,n){var r=-1,i=0,o=!1,c=this.$markset;return c.indexOf(t[n].charCodeAt())>-1?o:t[n-1]&&c.indexOf(t[n-1].charCodeAt())>-1?o:(e.reduce(function(e,t,o){return-1===r&&n<e+t+o&&(r=o,i=e),e+t},0),r>=0&&(o=!0,n===i+r&&(o=!1)),o)},optimizeWrap:function(e,t){function n(t){return r.indexOf(e[t].charCodeAt())>-1}var r=this.$markset;return!!n(t)||(!(!e[t-2]||n(t-1)||!n(t-2))||!(!e[t+1]||!n(t+1)))},renderLineString:function(e,t){return["<span ",'class="'+this.$id+'"','style="display: block;',"letter-spacing:"+(this.$conf.deep&&t?t:0)+'px;">',e,"</span>"].join("")},getTwoCharDistance:function(e,t,n,r){return e.slice(n,r).reduce(function(e,n){return n?e+t[n.charCodeAt()].width:e+0},0)},getLineLetterSpacing:function(e,t,n){var r=t.length;return(n-this.getTwoCharDistance(t,e,0,r))/r},getAllCharRectData:function(e,t){var n=Object.create(null),r=document.createElement("div");e.appendChild(r);for(var i=0,o=t.length;i<o;i++){var c=t[i],a=c.charCodeAt(),h=null;if(!n[a]){var s=document.createElement("span");s.innerText=c,r.appendChild(s),h=s.getBoundingClientRect(),n[a]={char:c,width:h.width,height:h.height}}}return n[32]=this.getSpaceCharRectData(r),e.removeChild(r),n},getSpaceCharRectData:function(e){var t=document.createElement("span"),n=document.createElement("span");t.innerText="_ _",n.innerText="__",e.appendChild(t),e.appendChild(n);var r=t.getBoundingClientRect(),i=n.getBoundingClientRect();return{char:" ",width:r.width-i.width,height:r.height}},storeCached:function(e,t){this.$cached[t]||(this.$cached[t]={orginHtml:e.innerHTML,originText:e.innerText})},calcStyle:function(t){var n=e.getComputedStyle(t);return{fontSize:e.parseFloat(n["font-size"]),width:e.parseFloat(n.width)}}},e.hyphen=t}(window)}]);